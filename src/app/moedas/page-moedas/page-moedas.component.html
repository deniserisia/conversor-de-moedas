<div class="container pt pb">
  <h2 class="text-center">Listagem de Moedas</h2>

  <div class="container-mod">
    <mat-form-field appearance="fill" class="busca">
      <mat-label class="text-dark">Buscar moedas</mat-label>
      <input matInput [(ngModel)]="busca" (input)="buscarCoins()">
    </mat-form-field>
    <button mat-icon-button class="limpar-busca" (click)="limparBusca()">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <div *ngIf="loading" class="spinner-container">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p>Carregando...</p>
  </div>

  <table class="table mt-4 table-rounded" *ngIf="!loading">
    <thead>
      <tr>
        <th class="text-center thread-color">Símbolo</th>
        <th class="thread-color">Descrição</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let coin of coinList | paginate: { itemsPerPage: itensPorPagina, currentPage: paginaAtual }; let i = index">
        <td class="text-center fixed-width">{{ coin.code }}</td>
        <td class="fixed-width">{{ coin.description }}</td>
      </tr>
    </tbody>
  </table>

  <div class="container-mod center">
    <mat-form-field appearance="fill" class="itens">
      <mat-label class="text-dark">Itens por página:</mat-label>
      <mat-select [(ngModel)]="itensPorPagina" (selectionChange)="atualizarPaginacao(1)">
        <mat-option value="5">5</mat-option>
        <mat-option value="10">10</mat-option>
        <mat-option value="15">15</mat-option>
      </mat-select>
    </mat-form-field>
    <pagination-controls (pageChange)="atualizarPaginacao($event)" [maxSize]="5" [directionLinks]="true"
      [responsive]="true" [previousLabel]="'Anterior'" [nextLabel]="'Próximo'">
    </pagination-controls>
  </div>
</div>
